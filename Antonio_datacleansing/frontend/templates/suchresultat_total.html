{% extends "base.html" %}
{% block title %}Suchresultat – Price Hunter{% endblock %}
{% block content %}

<div class="container-sm">
    <br>
    <h2 class="text-center mb-4">Suchresultat</h2>

    <div class="table-responsive results-wrap">
        <table class="table table-striped table-hover align-middle js-theme-table table-sticky">
            <thead class="table-secondary text-dark">
                <tr>
                    <th>Produkt</th>
                    <th class="text-start pe-4">Preis</th>
                    <th>Region</th>
                    <th class="text-end" style="padding-right: 70px; min-width: 110px;">Link</th>
                </tr>
            </thead>
            <tbody>
                {% for zeile in daten %}
                <tr>
                    <!-- Produkt -->
                    <td class="text-truncate" style="max-width: 420px;">
                        <a href="{{ zeile.link }}" class="link-body-emphasis text-decoration-none" target="_blank"
                            rel="noopener" title="{{ zeile.produkt }}">
                            {{ zeile.produkt }}
                        </a>
                    </td>

                    <!-- Preis + dynamische Währung -->
                    <td class="text-start pe-4">
                        {{ zeile.preis }}
                        {% if zeile.währung %}
                        {{ zeile.währung }}
                        {% elif zeile.currency %}
                        {{ zeile.currency }}
                        {% endif %}
                    </td>

                    <!-- Region -->
                    <td>
                        <span class="badge text-bg-secondary">{{ zeile.region }}</span>
                    </td>

                    <!-- Link -->
                    <td class="text-end">
                        {% if zeile.link %}
                        <a href="{{ zeile.link }}" class="btn btn-sm btn-primary" style="min-width:96px;"
                            target="_blank" rel="noopener">
                            Mehr Info
                        </a>
                        {% else %}
                        <span class="text-muted d-inline-block" style="min-width:96px;">—</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}